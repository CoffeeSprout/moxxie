# Moxxie Environment Configuration Example
# Copy this file to .env and update with your actual values
# Never commit the .env file to version control!

# =============================================================================
# Proxmox Configuration (REQUIRED)
# =============================================================================

# Proxmox API URL - Update with your Proxmox cluster address
MOXXIE_PROXMOX_URL=https://10.0.0.10:8006/api2/json

# Proxmox Username - Typically root@pam or a dedicated API user
MOXXIE_PROXMOX_USERNAME=root@pam

# Proxmox Password - REQUIRED, no default for security
# Create a dedicated API user in Proxmox for better security
MOXXIE_PROXMOX_PASSWORD=your-secure-password-here

# SSL Certificate Verification - false for self-signed certs in dev
# In production, set to true and use MOXXIE_CERT_BUNDLE
MOXXIE_PROXMOX_VERIFY_SSL=false

# =============================================================================
# SSL Certificate Configuration (Production)
# =============================================================================

# Path to PEM certificate bundle for self-signed Proxmox certificates
# Required in production when MOXXIE_PROXMOX_VERIFY_SSL=true
# See CONFIGURATION.md for how to create certificate bundles
# MOXXIE_CERT_BUNDLE=/etc/moxxie/certs/proxmox-ca-bundle.pem

# =============================================================================
# Database Configuration (Production)
# =============================================================================

# Database connection details
# In development, Quarkus Dev Services will automatically start PostgreSQL
# In production, these must be set

# DB_USERNAME=moxxie
# DB_PASSWORD=your-database-password
# DB_URL=jdbc:postgresql://localhost:5432/moxxie

# =============================================================================
# API Authentication (Optional - Internal Use Only)
# =============================================================================

# Enable API key authentication
# Since Moxxie is internal-only (behind Cafn8), this is optional
# Enable for audit trail or additional security layer
MOXXIE_API_AUTH_ENABLED=false

# API key for authentication (if enabled)
# Generate a secure random key: openssl rand -hex 32
# MOXXIE_API_KEY=your-generated-api-key-here

# =============================================================================
# Instance Configuration
# =============================================================================

# Unique instance identifier
MOXXIE_INSTANCE_ID=moxxie-dev

# Environment name: development, staging, production
MOXXIE_ENVIRONMENT=development

# Location/Region Configuration
MOXXIE_LOCATION=development
MOXXIE_LOCATION_DATACENTER=dc1
MOXXIE_LOCATION_NAME=Development Datacenter

# =============================================================================
# Safety Mode (Optional but Recommended)
# =============================================================================

# Enable safe mode to restrict operations to Moxxie-managed VMs
# Modes: strict (only Moxxie VMs), permissive (reads allowed), audit (log only)
MOXXIE_SAFETY_ENABLED=false
MOXXIE_SAFETY_MODE=strict

# =============================================================================
# Resource Limits (Optional)
# =============================================================================

# CPU overcommit ratio (e.g., 4.0 means 4:1 overcommit)
MOXXIE_CPU_OVERCOMMIT_RATIO=4.0

# Memory overcommit ratio (1.0 = no overcommit, recommended)
MOXXIE_MEMORY_OVERCOMMIT_RATIO=1.0

# Storage overprovision ratio for thin provisioning
MOXXIE_STORAGE_OVERPROVISION_RATIO=1.5

# =============================================================================
# Development Helpers
# =============================================================================

# Proxmox defaults
MOXXIE_PROXMOX_DEFAULT_STORAGE=local-zfs
MOXXIE_PROXMOX_DEFAULT_BRIDGE=vmbr0

# =============================================================================
# Multi-Datacenter Setup (Advanced)
# =============================================================================

# For DC1
# MOXXIE_LOCATION_DATACENTER=dc1
# MOXXIE_PROXMOX_URL=https://dc1-proxmox.example.com:8006/api2/json
# MOXXIE_CERT_BUNDLE=/etc/moxxie/certs/dc1-proxmox.pem

# For DC2
# MOXXIE_LOCATION_DATACENTER=dc2
# MOXXIE_PROXMOX_URL=https://dc2-proxmox.example.com:8006/api2/json
# MOXXIE_CERT_BUNDLE=/etc/moxxie/certs/dc2-proxmox.pem
